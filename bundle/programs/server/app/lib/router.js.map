{"version":3,"sources":["meteor://ðŸ’»app/lib/router.js"],"names":[],"mappings":"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","file":"/lib/router.js","sourcesContent":["// ###### General router configuration ######\n\nRouter.configure({\n\tloadingTemplate: 'loading',\n\tnotFoundTemplate: 'notFound',\n\ttrackPageView: true\n});\n\n\nRouter.configureBodyParsers = function() {\n\tRouter.onBeforeAction(Iron.Router.bodyParser.urlencoded({\n\t\textended: true,\n\t\tlimit: '50mb'\n\t}));\n};\n\n\n// Auto-close slide menu on route stop (when navigating to a new route)\nRouter.onStop(function () {\n\tif (typeof slideout != 'undefined')\n\t\tslideout.close();\n});\n\n\n// ###### Router security hooks ######\n\nvar requireLogin = function() {\n\t\tif (! Meteor.user()) {\n\t\t\t\tif (Meteor.loggingIn()) {\n\t\t\t\t\t\tthis.render(this.loadingTemplate);\n\t\t\t\t} else {\n\t\t\t\t\t\tthis.render('accessDenied');\n\t\t\t\t}\n\t\t} else {\n\t\t\t\tthis.next();\n\t\t}\n}\n\nvar requireAdmin = function() {\n\t\tif (! Roles.userIsInRole(Meteor.user(), 'admin')) {\n\t\t\t\tif (Meteor.loggingIn()) {\n\t\t\t\t\t\tthis.render(this.loadingTemplate);\n\t\t\t\t} else {\n\t\t\t\t\tthis.render('spacesHeader', {to: 'layout--header'});\n\t\t\t\t\tthis.render('accessDenied');\n\t\t\t\t}\n\t\t} else {\n\t\t\t\tthis.next();\n\t\t}\n}\n\n// Router.onBeforeAction(requireLogin, {only: 'settings'});\n\nvar pathsRequireAdmin;\nif (Meteor.settings.public.isBox === \"true\")\n\tpathsRequireAdmin = ['admin','register','update'];\nelse\n\tpathsRequireAdmin = ['admin','update'];\n\nRouter.onBeforeAction(requireAdmin, {only: pathsRequireAdmin});\n\n\n// ###### Routes without controller ######\n\nRouter.route('/not-found', {\n\tname: 'notFound',\n\tfastRender: true\n});\n\nRouter.route('/privacy', {\n\tname: 'privacy',\n\tfastRender: true\n});\n\nRouter.route('/login', {\n\tname: 'login',\n\tfastRender: true\n});\n\n// Router.route('/register', {\n// \tname: 'register',\n// \tfastRender: true\n// });\n\nRouter.route('/update', {\n\tname: 'update',\n\tfastRender: true\n});\n\n\n// ###### Routes with controller ######\n\nRouter.route('/user', {\n\tname: 'userSettings',\n\tcontroller: 'UserSettingsController',\n\tfastRender: true\n});\n\nRouter.route('/admin', {\n\tname: 'admin', \n\tcontroller: 'AdminController' \n});\n\n// Router.route('/', {\n// \tname: 'indexStudent',\n// \tcontroller: 'IndexStudentController'\n// });\n\n// Router.route('/teacher', {\n// \tname: 'indexTeacher',\n// \tcontroller: 'IndexTeacherController'\n// });\n\nRouter.route('/lesson/:_id', {\n\tname: 'lessonsFrame',\n\tcontroller: 'LessonsFrameController'\n});\n\nRouter.route('/space/:_id/:userUsername/:isadmin?', {\n\tname: 'space',\n\tcontroller: 'SpaceController'\n});\n\nRouter.route('/space/:_id/:userUsername/:isadmin?/settings', {\n\tname: 'settings',\n\tcontroller: 'SettingsController'\n});\n\nRouter.route('/space/:_id/users', {\n\tname: 'spaceUsers',\n\tcontroller: 'SpaceUsersController'\n});\n\nRouter.route('/space/:_id/first-connection', {\n\tname: 'spaceUsersFirstConnection',\n\tcontroller: 'SpaceFirstConnectionController'\n});\n\nRouter.route('/reset-password/:token', {\n\tname: 'resetPassword',\n\tcontroller: 'ResetPasswordController'\n});"]}