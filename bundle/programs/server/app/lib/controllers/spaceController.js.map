{"version":3,"sources":["meteor://ðŸ’»app/lib/controllers/spaceController.js"],"names":[],"mappings":";;;;;;;;AAAA,eAAe,GAAG,eAAe,CAAC,MAAM,CAAC;;AAExC,eAAc,EAAE,YAAY;;AAE3B,MAAI,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;AAC9B,MAAI,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;AAC7B,OAAI,KAAK,GAAG;AACX,SAAK,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG;AACtB,OAAG,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG;IACpB,CAAC;;AAEF,SAAM,CAAC,IAAI,CAAC,aAAa,EAAE,KAAK,EAAE,UAAS,KAAK,EAAE,MAAM,EAAE;AACzD,QAAG,KAAK,EACP,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,eAAe,CAAC,GAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAC7C;AACJ,SAAI,CAAC,IAAI,EAAE,CAAC;KACZ;IACD,CAAC,CAAC;GACH,MACA,IAAI,CAAC,IAAI,EAAE,CAAC;EACb;;AAED,OAAM,EAAE,YAAY;AACnB,SAAO,CACN,MAAM,CAAC,SAAS,CAAC,qBAAqB,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EACxD,MAAM,CAAC,SAAS,CAAC,kBAAkB,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EACrD,MAAM,CAAC,SAAS,CAAC,iBAAiB,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EACpD,MAAM,CAAC,SAAS,CAAC,kBAAkB,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EACrD,MAAM,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EAC1C,MAAM,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EAC5C,MAAM,CAAC,SAAS,CAAC,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAC/C,CAAC;EACF;;AAED,KAAI,EAAE,YAAY;AACjB,MAAI,OAAO,GAAG,KAAK,CAAC;AACpB,MAAI,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,mBAAmB,EAC7C,OAAO,GAAG,IAAI,CAAC;AAChB,SAAO;AACN,OAAI,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY;AAC9B,UAAO,EAAE,OAAO;AAChB,QAAK,EAAE,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;AACtC,QAAK,EAAE,KAAK,CAAC,IAAI,CAAC,EAAC,OAAO,EAAC,IAAI,CAAC,MAAM,CAAC,GAAG,EAAC,CAAC;AAC5C,OAAI,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI;GACtB;EACD;;AAED,OAAM,EAAE,YAAY;AACnB,MAAI,CAAC,MAAM,EAAE,CAAC;EACd;;AAED,WAAU,EAAE,IAAI;CAChB,CAAC,CAAC,sE","file":"/lib/controllers/spaceController.js","sourcesContent":["SpaceController = RouteController.extend({\n\n\tonBeforeAction: function () {\n\n\t\tvar spaceId = this.params._id;\n\t\tif (!Spaces.findOne(spaceId)) {\n\t\t\tvar space = {\n\t\t\t\ttitle: this.params._id,\n\t\t\t\t_id: this.params._id\n\t\t\t};\n\n\t\t\tMeteor.call('spaceInsert', space, function(error, result) {\n\t\t\t\tif(error)\n\t\t\t\t\talert(TAPi18n.__('error-message')+error.message);\n\t\t\t\telse {\n\t\t\t\t\tthis.next();\n\t\t\t\t}\n\t\t\t});\n\t\t} else\n\t\t\tthis.next();\t\t\n\t},\n\n\twaitOn: function () { \n\t\treturn [\n\t\t\tMeteor.subscribe(\"count-all-live-feed\", this.params._id),\n\t\t\tMeteor.subscribe(\"count-all-pinned\", this.params._id),\n\t\t\tMeteor.subscribe(\"count-all-files\", this.params._id),\n\t\t\tMeteor.subscribe(\"count-all-images\", this.params._id),\n\t\t\tMeteor.subscribe('space', this.params._id),\n\t\t\tMeteor.subscribe('authors', this.params._id),\n\t\t\tMeteor.subscribe('categories', this.params._id)  \n\t\t];\n\t},\n\n\tdata: function () {\n\t\tvar isAdmin = false;\n\t\tif (this.params.isadmin == \"oSXfn6qej4bAwYpWn\")\n\t\t\tisAdmin = true;\n\t\treturn {\n\t\t\tuser: this.params.userUsername,\n\t\t\tisAdmin: isAdmin,\n\t\t\tspace: Spaces.findOne(this.params._id),\n\t\t\tposts: Posts.find({spaceId:this.params._id}),\n\t\t\tlast: this.params.last\n\t\t}\n\t},\n\n\taction: function () {\n\t\tthis.render();\n\t},\n\n\tfastRender: true\n});"]}